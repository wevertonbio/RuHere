% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/flag_fishbase.R
\name{flag_fishbase}
\alias{flag_fishbase}
\title{flag_fishbase}
\usage{
flag_fishbase(data_dir, occ, species = "species",
long = "decimalLongitude", lat = "decimalLatitude", buffer = 20,
verbose = TRUE)
}
\arguments{
\item{data_dir}{(character) the path to the local directory where the
fishbase subdirectory is located. \strong{Required.}}

\item{occ}{(data.frame) a data frame containing the occurrence records
to be flagged. Must include columns for species, longitude, and latitude. \strong{Required.}}

\item{species}{(character) the name of the column in occ that
contains the species scientific names. Default is \code{"species"}.}

\item{long}{(character) the name of the column in occ that
contains the longitude values. Default is \code{"decimalLongitude"}.}

\item{lat}{(character) the name of the column in occ that
contains the latitude values. Default is \code{"decimalLatitude"}.}

\item{buffer}{(numeric) the buffer distance (in kilometers) to apply
around the known country distribution polygons before checking for
intersection. Default is 20 km.}

\item{verbose}{(logical) if \code{TRUE}, prints messages about progress
and the number of species being checked. Default is \code{TRUE}.}
}
\value{
Returns the original \code{occ} data frame augmented with a new logical column
named \code{fishbase_flag}. A value of \code{TRUE} indicates the record falls
within the buffered known distribution, \code{FALSE} indicates it falls
outside, and \code{NA} indicates the species was not found in the local
FishBase data.
}
\description{
Flags (validates) occurrence records against locally stored FishBase data.
This function checks if an occurrence point for a given fish species falls
within the known country-level distribution polygons associated with that
species. A user-defined buffer (in kilometers) can be applied to these
polygons.
}
\examples{
\dontrun{
# NOTE: The directory specified in 'data_dir' must exist and contain the
# fishbase data
# You must run 'fishbase_here()' beforehand to download the necessary data
# files.

occ <- RuHere::occ_fish

results <- flag_fishbase(
  data_dir = "your/path/here",
  occ = occ,
  species = "species",
  long = "decimalLongitude",
  lat = "decimalLatitude"
)
}

}
