<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>4. Flagging Records with Species List Information • RuHere</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="4. Flagging Records with Species List Information">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RuHere</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fas fa-code"></span> Functions</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-book"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/obtaining_data.html">1. Obtaining and preparing occurrence data</a></li>
    <li><a class="dropdown-item" href="../articles/spatial_consistency.html">2. Ensuring spatial consistency</a></li>
    <li><a class="dropdown-item" href="../articles/flagging_records.html">3. Flagging Records Using Metadata</a></li>
    <li><a class="dropdown-item" href="../articles/flagging_records_species_list.html">4. Flagging Records with Specialists' Information</a></li>
    <li><a class="dropdown-item" href="../articles/sampling_bias.html">5. Reducing sampling bias</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/wevertonbio/RuHere/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>4. Flagging Records with Species List Information</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/wevertonbio/RuHere/blob/main/vignettes/flagging_records_species_list.Rmd" class="external-link"><code>vignettes/flagging_records_species_list.Rmd</code></a></small>
      <div class="d-none name"><code>flagging_records_species_list.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>One of the most robust ways to validate biodiversity data is to
cross-reference occurrence records with expert-curated distribution
datasets. If a species is known to occur only in specific regions
(states, biomes, or countries) according to an official checklist (e.g.,
IUCN), records falling outside these areas can be flagged as potential
errors or introductions.</p>
<p>RuHere streamlines this process by providing functions to:</p>
<ul>
<li>Download these official datasets directly into your R
environment.</li>
<li>Check availability of data for your species.</li>
<li>Flag records that fall outside the known natural range.</li>
</ul>
</div>
<div class="section level2">
<h2 id="proposed-workflow">Proposed workflow<a class="anchor" aria-label="anchor" href="#proposed-workflow"></a>
</h2>
<p>The main idea of the package is to provide full control and
reproducibility over the record-removal process. This is achieved by
creating <em>flag columns</em> in the dataset, which are logical
variables indicating whether a record passed a given test
(<code>TRUE</code>) or failed it (<code>FALSE</code>). This approach
allows users to:</p>
<ul>
<li>Visuallize and inspect potentially erroneous records interactively
before deciding whether to remove them.</li>
<li>Define exceptions; that is, retain records that were flagged or
remove records that were not flagged.</li>
<li>Save flagged records to separate files, with information indicating
why each record was excluded.</li>
<li>Generate reports summarizing the cleaning process, making it more
transparent and reproducible.</li>
</ul>
</div>
<div class="section level2">
<h2 id="overview-of-the-functions">Overview of the functions:<a class="anchor" aria-label="anchor" href="#overview-of-the-functions"></a>
</h2>
<ul>
<li>
<code><a href="../reference/florabr_here.html">florabr_here()</a></code>: downloads the Flora e Funga do Brasil
database.</li>
<li>
<code><a href="../reference/faunabr_here.html">faunabr_here()</a></code>: downloads the Taxonomic Catalog of the
Brazilian Fauna.</li>
<li>
<code><a href="../reference/wcvp_here.html">wcvp_here()</a></code>: downloads the World Checklist of Vascular
Plants (WCVP).</li>
<li>
<code><a href="../reference/iucn_here.html">iucn_here()</a></code>: downloads species distribution information
from the IUCN Red List.</li>
<li>
<code><a href="../reference/bien_here.html">bien_here()</a></code>: downloads range maps from the BIEN
database.</li>
<li>
<code><a href="../reference/set_iucn_credentials.html">set_iucn_credentials()</a></code>: stores your IUCN API key
securely.</li>
<li>
<code><a href="../reference/available_datasets.html">available_datasets()</a></code>: checks which datasets contain
information for your target species.</li>
<li>
<code><a href="../reference/flag_florabr.html">flag_florabr()</a></code>: flags records based on Brazilian
state/biome distributions.</li>
<li>
<code><a href="../reference/flag_faunabr.html">flag_faunabr()</a></code>: flags animal records based on Brazilian
distributions.</li>
<li>
<code><a href="../reference/flag_wcvp.html">flag_wcvp()</a></code>: flags records based on global native
ranges from WCVP.</li>
<li>
<code><a href="../reference/flag_iucn.html">flag_iucn()</a></code>: flags records based on IUCN distribution
data (native, extant, etc.).</li>
<li>
<code><a href="../reference/flag_bien.html">flag_bien()</a></code>: flags records based on BIEN range
maps.</li>
</ul>
</div>
<div class="section level2">
<h2 id="getting-ready">Getting ready<a class="anchor" aria-label="anchor" href="#getting-ready"></a>
</h2>
<p>At this stage, you should have an occurrence dataset that has been
standardized using the <code><a href="../reference/format_columns.html">format_columns()</a></code> function and merged
with <code><a href="../reference/bind_here.html">bind_here()</a></code>. For additional details on this workflow,
see the vignette <strong>“1. Obtaining and preparing species occurrence
data”</strong>. Ideally, these records should also be standardized for
spatial consistency of country and state information. See the vignette
<strong>“2. Ensuring Spatial Consistency”</strong> for further
details.</p>
<p>To illustrate how the function works, we use the example occurrence
dataset included in the package, which contains records for three
species: the Paraná pine (<em>Araucaria angustifolia</em>), the azure
jay (<em>Cyanocorax caeruleus</em>), and the yellow trumpet tree
(<em>Handroanthus albus</em>).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load RuHere and terra</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://wevertonbio.github.io/RuHere/">RuHere</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; terra 1.8.93</span></span>
<span></span>
<span><span class="co"># Loading the example data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"occurrences"</span>, package <span class="op">=</span> <span class="st">"RuHere"</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="downloading-distribution-datasets">Downloading distribution datasets<a class="anchor" aria-label="anchor" href="#downloading-distribution-datasets"></a>
</h2>
<p>Before flagging, you must download the reference datasets. These
functions save the data in a structured format within your specified
directory. Let’s create this directory:</p>
<blockquote>
<p>Note: These downloads can be large and take time. You usually only
need to run them once per project.</p>
</blockquote>
<p><br></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define a directory for datasets (using a temporary one for this example)</span></span>
<span><span class="co"># In a real project, use a persistent path </span></span>
<span><span class="va">dataset_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"datasets"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">dataset_dir</span>, showWarnings <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<div class="section level3">
<h3 id="world-checklist-of-vascular-plants-wcvp">World Checklist of Vascular Plants (WCVP)<a class="anchor" aria-label="anchor" href="#world-checklist-of-vascular-plants-wcvp"></a>
</h3>
<p>The <a href="https://www.nature.com/articles/s41597-021-00997-6" class="external-link"><strong>World
Checklist of Vascular Plants (WCVP)</strong></a> is a comprehensive,
expert-reviewed list of scientifically described plant species, compiled
over more than four decades from peer-reviewed literature, authoritative
scientific databases, herbaria, and observational records.</p>
<p>Geographic distribution information in the WCVP follows the <a href="https://www.tdwg.org/standards/wgsrpd/" class="external-link"><strong>World Geographical
Scheme for Recording Plant Distributions (WGSRPD)</strong></a>, a system
developed by the International Biodiversity Information Standards (TDWG)
that divides the world into “botanical countries” and further subdivides
large countries into states or provinces.</p>
<p>The <code><a href="../reference/wcvp_here.html">wcvp_here()</a></code> function downloads the <a href="https://sftp.kew.org/pub/data-repositories/WCVP/" class="external-link">full WCVP
dataset</a> and the corresponding WGSRPD shapefile:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Download WCVP</span></span>
<span><span class="fu"><a href="../reference/wcvp_here.html">wcvp_here</a></span><span class="op">(</span>data_dir <span class="op">=</span> <span class="va">dataset_dir</span><span class="op">)</span></span>
<span><span class="co">#&gt; trying URL 'https://sftp.kew.org/pub/data-repositories/WCVP/wcvp.zip'</span></span>
<span><span class="co">#&gt; Content type 'application/zip' length 105093449 bytes (100.2 MB)</span></span>
<span><span class="co">#&gt; ==================================================</span></span>
<span><span class="co">#&gt; downloaded 100.2 MB</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; trying URL 'https://zenodo.org/records/17455838/files/wgsrpd.gpkg?download=1'</span></span>
<span><span class="co">#&gt; Content type 'application/octet-stream' length 8581120 bytes (8.2 MB)</span></span>
<span><span class="co">#&gt; ==================================================</span></span>
<span><span class="co">#&gt; downloaded 8.2 MB</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Please don't forget to cite:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Govaerts, R., Nic Lughadha, E. et al. The World Checklist of Vascular Plants, a continuously updated resource for exploring global</span></span>
<span><span class="co">#&gt; plant diversity. Sci Data, 8, 215 (2021). https://doi.org/10.1038/s41597-021-00997-6</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level3">
<h3 id="botanical-information-and-ecology-network-bien">Botanical Information and Ecology Network (BIEN)<a class="anchor" aria-label="anchor" href="#botanical-information-and-ecology-network-bien"></a>
</h3>
<p>BIEN provides modeled range maps for over 90,000 species of vascular
plants in the New World. These maps represent hypotheses of potential
species distributions, generated from georeferenced occurrence data,
associated environmental variables, and ecological niche modeling <a href="https://www.sciencedirect.com/science/article/pii/S1439179120300906" class="external-link">(Qian,
2020)</a>.</p>
<p>The <code><a href="../reference/bien_here.html">bien_here()</a></code> function downloads the range maps for
the specified species.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set species</span></span>
<span><span class="va">spp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">occurrences</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span>
<span><span class="va">spp</span></span>
<span><span class="co">#&gt; [1] "Araucaria angustifolia"     "Cyanocorax caeruleus"       "Handroanthus serratifolius"</span></span>
<span></span>
<span><span class="co"># Download BIEN maps for your species</span></span>
<span><span class="fu"><a href="../reference/bien_here.html">bien_here</a></span><span class="op">(</span>data_dir <span class="op">=</span> <span class="va">dataset_dir</span>, species <span class="op">=</span> <span class="va">spp</span><span class="op">)</span></span>
<span><span class="co">#&gt;                       species range_available</span></span>
<span><span class="co">#&gt;                        &lt;char&gt;          &lt;lgcl&gt;</span></span>
<span><span class="co">#&gt; 1:     Araucaria angustifolia           FALSE</span></span>
<span><span class="co">#&gt; 2:       Cyanocorax caeruleus           FALSE</span></span>
<span><span class="co">#&gt; 3: Handroanthus serratifolius            TRUE</span></span></code></pre></div>
<p><br></p>
<p>The function returns a <code>data.frame</code> indicating whether
range polygons for each species are available in BIEN. In this example,
distributional information is available only for the yellow trumpet tree
(<em>Handroanthus serratifolius</em>).</p>
</div>
<div class="section level3">
<h3 id="iucn">IUCN<a class="anchor" aria-label="anchor" href="#iucn"></a>
</h3>
<p>Unfortunately, the spatial range maps generated by specialists and
provided by the IUCN (<a href="https://www.iucnredlist.org/resources/spatial-data-download" class="external-link">https://www.iucnredlist.org/resources/spatial-data-download</a>)
are not available for automatic download. However, the IUCN does provide
distributional information summarized by botanical countries following
the WGSRPD scheme.</p>
<p>To use IUCN data, you first need to register for an API key at <a href="https://api.iucnredlist.org/users/sign_up" class="external-link">https://api.iucnredlist.org/users/sign_up</a>.
Once obtained, store the key securely in your R environment:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set your key (do this once)</span></span>
<span><span class="fu"><a href="../reference/set_iucn_credentials.html">set_iucn_credentials</a></span><span class="op">(</span><span class="st">"YOUR_IUCN_KEY_HERE"</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<p>We can now download the distributional information from the IUCN:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Download data for specific species</span></span>
<span><span class="fu"><a href="../reference/iucn_here.html">iucn_here</a></span><span class="op">(</span>data_dir <span class="op">=</span> <span class="va">dataset_dir</span>, species <span class="op">=</span> <span class="va">spp</span><span class="op">)</span></span>
<span><span class="co">#&gt; trying URL 'https://zenodo.org/records/17455838/files/wgsrpd.gpkg?download=1'</span></span>
<span><span class="co">#&gt; Content type 'application/octet-stream' length 8581120 bytes (8.2 MB)</span></span>
<span><span class="co">#&gt; ==================================================</span></span>
<span><span class="co">#&gt; downloaded 8.2 MB</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level3">
<h3 id="brazilian-flora-and-funga-florabr">Brazilian Flora and Funga (florabr)<a class="anchor" aria-label="anchor" href="#brazilian-flora-and-funga-florabr"></a>
</h3>
<p><a href="https://floradobrasil.jbrj.gov.br/consulta/#CondicaoTaxonCP" class="external-link">Brazilian
Flora and Funga (florabr)</a> is the most comprehensive work to reliably
document Brazilian plant, algae and fungi diversity. It involves the
work of hundreds of taxonomists, integrating data from plant (including
algae) and fungi collected in Brazil during the last two centuries.</p>
<p>Because florabr provides descriptive information based on expert
knowledge on the endemism level, federal states, and biomes with
confirmed occurrences of the species in Brazil, we can use this
information to validate the records that fall within Brazil. First, we
need to download the dataset using the <a href="https://bsapubs.onlinelibrary.wiley.com/doi/10.1002/aps3.11616?af=R" class="external-link">florabr
R package</a></p>
<blockquote>
<p>Note: If you use this dataset, please remember to cite the package:
Trindade WCF (2024). “florabr: An R package to explore and spatialize
species distribution using Flora e Funga do Brasil.” <em>Applications in
Plant Sciences</em>, e11616. <a href="doi:10.1002/aps3.11616" class="uri">doi:10.1002/aps3.11616</a> <a href="https://doi.org/10.1002/aps3.11616" class="external-link uri">https://doi.org/10.1002/aps3.11616</a>.</p>
</blockquote>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">florabr_here</span>(<span class="at">data_dir =</span> dataset_dir, <span class="at">data_version =</span> <span class="st">"latest"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="co">#&gt; Getting data from Flora e Funga do Brasil...</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="co">#&gt; Data will be saved in /datasets/florabr</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co">#&gt; Downloading version: 393.421</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="co">#&gt; Merging data. Please wait a moment...</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="co">#&gt; Data downloaded and merged successfully. Final data saved in datasets/florabr/393.421/CompleteBrazilianFlora.rds</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="co">#&gt; Please don't forget to cite:</span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="co">#&gt; Trindade WCF (2024). “florabr: An R package to explore and spatialize species distribution using Flora e Funga do</span></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a><span class="co">#&gt;  Brasil.” Applications in Plant Sciences, e11616. doi:10.1002/aps3.11616 &lt;https://doi.org/10.1002/aps3.11616&gt;</span></span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;&gt;&gt;&gt;&gt;</span> Stashed changes</span></code></pre></div>
<p><br></p>
</div>
<div class="section level3">
<h3 id="taxonomic-catalog-of-the-brazilian-fauna-faunabr">Taxonomic Catalog of the Brazilian Fauna (faunabr)<a class="anchor" aria-label="anchor" href="#taxonomic-catalog-of-the-brazilian-fauna-faunabr"></a>
</h3>
<p>The <a href="https://fauna.jbrj.gov.br/fauna/listaBrasil/PrincipalUC/PrincipalUC.do?lingua=en" class="external-link">Taxonomic
Catalog of the Brazilian Fauna (faunabr)</a> is a sister project of
<em>florabr</em> and represents the collaborative efforts of more than
500 zoologists, each specializing in different animal groups native to
Brazil.</p>
<p>Similar to <em>florabr</em>, it provides expert-derived information
on the Brazilian federal states and countries with confirmed species
occurrences. Here, we download the dataset using the <a href="https://www.scielo.br/j/zool/a/mGCFstdFnKyQfPLLRXWQCSH/?format=html&amp;lang=en" class="external-link">faunabr
R package</a>:</p>
<blockquote>
<p>Note: If you use this dataset, please remember to cite the package:
Trindade WCF (2025) faunabr: An R package to explore taxonomic data and
map species distributions using the Catálogo Taxonômico da Fauna do
Brasil. Zoologia 42: e25027. <a href="https://doi.org/10.1590/S1984-4689.v42.e25027" class="external-link uri">https://doi.org/10.1590/S1984-4689.v42.e25027</a>.</p>
</blockquote>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/faunabr_here.html">faunabr_here</a></span><span class="op">(</span>data_dir <span class="op">=</span> <span class="va">dataset_dir</span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting data from Taxonomic Catalog of the Brazilian Fauna ...</span></span>
<span><span class="co">#&gt; Downloading version: 1.45</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Merging data. Please wait a moment...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Data will be saved in /datasets/faunabr</span></span>
<span><span class="co">#&gt; Data downloaded and merged successfully. Final data saved in datasets/faunabr/1.45/CompleteBrazilianFauna.gz</span></span>
<span></span>
<span><span class="co">#&gt; Please don't forget to cite:</span></span>
<span></span>
<span><span class="co">#&gt; Trindade WCF (2025) faunabr: An R package to explore taxonomic data and map species distributions using the Catálogo Taxonômico da Fauna do Brasil. Zoologia 42: e25027. &lt;https://doi.org/10.1590/S1984-4689.v42.e25027&gt;.</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level3">
<h3 id="checking-data-availability">Checking data availability<a class="anchor" aria-label="anchor" href="#checking-data-availability"></a>
</h3>
<p>After downloading the datasets, you should have one folder for each
data source:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/dir_tree.html" class="external-link">dir_tree</a></span><span class="op">(</span><span class="va">dataset_dir</span><span class="op">)</span></span>
<span><span class="co">#&gt; datasets</span></span>
<span><span class="co">#&gt; ├── bien</span></span>
<span><span class="co">#&gt; │   └── Handroanthus_serratifolius.gpkg</span></span>
<span><span class="co">#&gt; ├── faunabr</span></span>
<span><span class="co">#&gt; │   └── 1.43</span></span>
<span><span class="co">#&gt; │       └── CompleteBrazilianFauna.gz</span></span>
<span><span class="co">#&gt; ├── florabr</span></span>
<span><span class="co">#&gt; │   └── 393.420</span></span>
<span><span class="co">#&gt; │       └── CompleteBrazilianFlora.rds</span></span>
<span><span class="co">#&gt; ├── iucn</span></span>
<span><span class="co">#&gt; │   └── iucn_distribution.gz</span></span>
<span><span class="co">#&gt; ├── wcvp</span></span>
<span><span class="co">#&gt; │   └── wcvp.gz</span></span>
<span><span class="co">#&gt; └── wgsrpd</span></span>
<span><span class="co">#&gt;     └── wgsrpd.gpkg</span></span></code></pre></div>
<p><br></p>
<p>You can use the <code><a href="../reference/available_datasets.html">available_datasets()</a></code> function to check
which databases provide distributional information for each species:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check availability for our species</span></span>
<span><span class="va">avail</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/available_datasets.html">available_datasets</a></span><span class="op">(</span>data_dir <span class="op">=</span> <span class="va">dataset_dir</span>, species <span class="op">=</span> <span class="va">spp</span><span class="op">)</span></span>
<span><span class="va">avail</span></span>
<span><span class="co">#&gt;                      species               datasets</span></span>
<span><span class="co">#&gt; 1     Araucaria angustifolia      florabr;iucn;wcvp</span></span>
<span><span class="co">#&gt; 2       Cyanocorax caeruleus                faunabr</span></span>
<span><span class="co">#&gt; 3 Handroanthus serratifolius bien;florabr;iucn;wcvp</span></span></code></pre></div>
<p><br></p>
<p>By default, the function returns the datasets for which
distributional information is available for each species. If
<code>return_distribution = TRUE</code>, the function also returns a
list containing <code>SpatVector</code> objects representing the species
ranges:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get available ranges for species</span></span>
<span><span class="va">avail_ranges</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/available_datasets.html">available_datasets</a></span><span class="op">(</span>data_dir <span class="op">=</span> <span class="va">dataset_dir</span>, species <span class="op">=</span> <span class="va">spp</span>, </span>
<span>                                   return_distribution <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co"># Plot ranges of Araucaria</span></span>
<span><span class="va">ranges_araucaria</span> <span class="op">&lt;-</span> <span class="va">avail_ranges</span><span class="op">$</span><span class="va">species_range</span><span class="op">$</span><span class="va">`Araucaria angustifolia`</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span> <span class="co">#Create grid</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ranges_araucaria</span><span class="op">$</span><span class="va">florabr</span><span class="op">$</span><span class="va">states_biomes</span>, main <span class="op">=</span> <span class="st">"florabr"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ranges_araucaria</span><span class="op">$</span><span class="va">iucn</span>, main <span class="op">=</span> <span class="st">"IUCN"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ranges_araucaria</span><span class="op">$</span><span class="va">wcvp</span>, main <span class="op">=</span> <span class="st">"WCVP"</span><span class="op">)</span></span></code></pre></div>
<p><img src="flagging_records_species_list_files/figure-html/unnamed-chunk-12-1.png" class="r-plt" alt="" width="80%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html" class="external-link">dev.off</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Reset plotting layout</span></span>
<span><span class="co">#&gt; null device </span></span>
<span><span class="co">#&gt;           1</span></span></code></pre></div>
<p><br></p>
<p>These reference ranges are used by the subsequent functions to
validate occurrence records: any record falling outside the specified
ranges is flagged as invalid (<code>FALSE</code>).</p>
</div>
</div>
<div class="section level2">
<h2 id="flagging-with-expert-information">Flagging with expert information<a class="anchor" aria-label="anchor" href="#flagging-with-expert-information"></a>
</h2>
<p>After downloading the datasets, the distributional information can be
used to validate occurrence records. All validation functions include a
buffer argument, which expands the distribution regions by a specified
distance (20 km by default).</p>
<div class="section level3">
<h3 id="using-world-checklist-of-vascular-plants-wcvp">Using World Checklist of Vascular Plants (WCVP)<a class="anchor" aria-label="anchor" href="#using-world-checklist-of-vascular-plants-wcvp"></a>
</h3>
<p>When filtering records using WCVP, you can specify whether to
consider only regions where the species is <code>"native"</code> (the
default) or also include locations where the species is
<code>"introduced"</code>, <code>"extinct"</code>, or marked as
<code>"location_doubtful"</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Flag using WCVP-defined range</span></span>
<span><span class="va">occ</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/flag_wcvp.html">flag_wcvp</a></span><span class="op">(</span>data_dir <span class="op">=</span> <span class="va">dataset_dir</span>, <span class="co">#Directory where dataset was saved</span></span>
<span>                 occ <span class="op">=</span> <span class="va">occurrences</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<p>The function returns the original <code>data.frame</code> augmented
with a new column named <code>wcvp_flag</code>, in which all records
falling outside the WCVP-defined range are flagged as
<code>FALSE</code>. Because WCVP does not provide distributional
information for <em>Cyanocorax caeruleus</em> (an animal species), the
function returns <code>NA</code> values for this species.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Number of records flagged (FALSE) for each species</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">occ</span><span class="op">$</span><span class="va">species</span>, <span class="va">occ</span><span class="op">$</span><span class="va">wcvp_flag</span><span class="op">)</span></span>
<span><span class="co">#&gt;                             </span></span>
<span><span class="co">#&gt;                              FALSE TRUE</span></span>
<span><span class="co">#&gt;   Araucaria angustifolia       111  813</span></span>
<span><span class="co">#&gt;   Cyanocorax caeruleus           0    0</span></span>
<span><span class="co">#&gt;   Handroanthus serratifolius    46 2075</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level3">
<h3 id="using-iucn">Using IUCN<a class="anchor" aria-label="anchor" href="#using-iucn"></a>
</h3>
<p>When filtering records using IUCN, you can specify both the origin
and the presence type.</p>
<p>The origin categories include <code>"native"</code> (default),
<code>"introduced"</code>, <code>"reintroduced"</code>,
<code>"vagrant"</code>, <code>"origin uncertain"</code>,
<code>"assisted colonisation"</code>, and <code>"all"</code>.</p>
<p>The available presence type categories include <code>"extant"</code>,
<code>"probably extant"</code>, <code>"possibly extant"</code>,
<code>"extinct"</code>, <code>"possibly extinct"</code>,
<code>"presence uncertain"</code>, and <code>"all"</code> (default).</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Flag using IUCN-defined range</span></span>
<span><span class="va">occ</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/flag_iucn.html">flag_iucn</a></span><span class="op">(</span>data_dir <span class="op">=</span> <span class="va">dataset_dir</span>, <span class="co">#Directory where dataset was saved</span></span>
<span>                 occ <span class="op">=</span> <span class="va">occ</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<p>The function returns the original <code>data.frame</code> augmented
with a new column named <code>iucn_flag</code>, in which all records
falling outside the IUCN-defined range are flagged as
<code>FALSE</code>. Because IUCN does not provide distributional
information for <em>Cyanocorax caeruleus</em>, the function returns
<code>NA</code> values for this species.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Number of records flagged (FALSE) for each species</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">occ</span><span class="op">$</span><span class="va">species</span>, <span class="va">occ</span><span class="op">$</span><span class="va">iucn_flag</span><span class="op">)</span></span>
<span><span class="co">#&gt;                             </span></span>
<span><span class="co">#&gt;                              FALSE TRUE</span></span>
<span><span class="co">#&gt;   Araucaria angustifolia       166  758</span></span>
<span><span class="co">#&gt;   Cyanocorax caeruleus           0    0</span></span>
<span><span class="co">#&gt;   Handroanthus serratifolius    44 2077</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level3">
<h3 id="using-botanical-information-and-ecology-network-bien">Using Botanical Information and Ecology Network (BIEN)<a class="anchor" aria-label="anchor" href="#using-botanical-information-and-ecology-network-bien"></a>
</h3>
<p>If BIEN range maps are available, this function checks if records
fall within the modeled distribution polygons.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Flag using BIEN-defined range</span></span>
<span><span class="va">occ</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/flag_bien.html">flag_bien</a></span><span class="op">(</span>data_dir <span class="op">=</span> <span class="va">dataset_dir</span>, <span class="co">#Directory where dataset was saved</span></span>
<span>                 occ <span class="op">=</span> <span class="va">occ</span><span class="op">)</span></span>
<span><span class="co">#&gt; Checking the distribution from 1 of 3 species</span></span>
<span><span class="co">#&gt; Checking the distribution from 1 of 3 species</span></span></code></pre></div>
<p><br></p>
<p>The function returns the original <code>data.frame</code> augmented
with a new column named <code>bien_flag</code>, in which all records
falling outside the BIEN-defined range are flagged as
<code>FALSE</code>. Here, BIEN provides distributional information only
for <em>Handroanthus serratifolius</em>:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Number of records flagged (FALSE) for each species</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">occ</span><span class="op">$</span><span class="va">species</span>, <span class="va">occ</span><span class="op">$</span><span class="va">bien_flag</span><span class="op">)</span></span>
<span><span class="co">#&gt;                             </span></span>
<span><span class="co">#&gt;                              FALSE TRUE</span></span>
<span><span class="co">#&gt;   Araucaria angustifolia         0    0</span></span>
<span><span class="co">#&gt;   Cyanocorax caeruleus           0    0</span></span>
<span><span class="co">#&gt;   Handroanthus serratifolius    69 2052</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level3">
<h3 id="using-brazilian-flora-and-funga-florabr">Using Brazilian Flora and Funga (florabr)<a class="anchor" aria-label="anchor" href="#using-brazilian-flora-and-funga-florabr"></a>
</h3>
<p>When flagging using <em>florabr</em>, you can specify the origin
(<code>"native"</code> (default), <code>"cultivated"</code>,
<code>"naturalized"</code>), as well as whether to validate occurrences
by federal states (<code>by_state = TRUE</code>, default) and/or biomes
(<code>by_biome = TRUE</code>, default). For species endemic to Brazil,
you can also choose to flag records occurring outside the country
(<code>by_endemism = TRUE</code>, default).</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Flag using florabr-defined range</span></span>
<span><span class="va">occ</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/flag_florabr.html">flag_florabr</a></span><span class="op">(</span>data_dir <span class="op">=</span> <span class="va">dataset_dir</span>, <span class="co">#Directory where dataset was saved</span></span>
<span>                    occ <span class="op">=</span> <span class="va">occ</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<p>The function returns the original <code>data.frame</code> augmented
with a new column named <code>florabr_flag</code>, in which all records
falling outside the florabr-defined range are flagged as
<code>FALSE</code>. Here, florabr does not provide distributional
information for <em>Cyanocorax caeruleus</em>:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Number of records flagged (FALSE) for each species</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">occ</span><span class="op">$</span><span class="va">species</span>, <span class="va">occ</span><span class="op">$</span><span class="va">florabr_flag</span><span class="op">)</span></span>
<span><span class="co">#&gt;                             </span></span>
<span><span class="co">#&gt;                              FALSE TRUE</span></span>
<span><span class="co">#&gt;   Araucaria angustifolia        25  899</span></span>
<span><span class="co">#&gt;   Cyanocorax caeruleus           0    0</span></span>
<span><span class="co">#&gt;   Handroanthus serratifolius     5 2116</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level3">
<h3 id="using-taxonomic-catalog-of-the-brazilian-fauna-faunabr">Using Taxonomic Catalog of the Brazilian Fauna (faunabr)<a class="anchor" aria-label="anchor" href="#using-taxonomic-catalog-of-the-brazilian-fauna-faunabr"></a>
</h3>
<p>When flagging records using <em>faunabr</em>, you can specify the
origin (<code>"native"</code>, <code>"cryptogenic"</code>, or
<code>"exotic"</code>, default is <code>NULL</code>, meaning all origins
are considered), as well as whether to validate occurrences by federal
states (<code>by_state = TRUE</code>, default) and/or countries
(<code>by_country= TRUE</code>, default).</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Flag using faunabr-defined range</span></span>
<span><span class="va">occ</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/flag_faunabr.html">flag_faunabr</a></span><span class="op">(</span>data_dir <span class="op">=</span> <span class="va">dataset_dir</span>, <span class="co">#Directory where dataset was saved</span></span>
<span>                    occ <span class="op">=</span> <span class="va">occ</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<p>The function returns the original <code>data.frame</code> augmented
with a new column named <code>faunabr_flag</code>, in which all records
falling outside the faunabr-defined range are flagged as
<code>FALSE</code>. Here, fauna provides distributional information only
for <em>Cyanocorax caeruleus</em>:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Number of records flagged (FALSE) for each species</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">occ</span><span class="op">$</span><span class="va">species</span>, <span class="va">occ</span><span class="op">$</span><span class="va">faunabr_flag</span><span class="op">)</span></span>
<span><span class="co">#&gt;                             </span></span>
<span><span class="co">#&gt;                              FALSE TRUE</span></span>
<span><span class="co">#&gt;   Araucaria angustifolia         0    0</span></span>
<span><span class="co">#&gt;   Cyanocorax caeruleus           4 1031</span></span>
<span><span class="co">#&gt;   Handroanthus serratifolius     0    0</span></span></code></pre></div>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="map-of-occurrence-flags">Map of occurrence flags<a class="anchor" aria-label="anchor" href="#map-of-occurrence-flags"></a>
</h2>
<p>Once records have been flagged, it is highly recommended to visualize
them to assess whether the flagging is accurate before proceeding with
final record removal.</p>
<p>As explained in detail in the vignette <strong>3. Flagging Records
Using Associated Information</strong>, <em>RuHere</em> provides two
options for mapping flagged records: an interactive option via
<code><a href="../reference/map_here.html">map_here()</a></code>, which uses the <code>mapview</code> package,
and a static option via <code><a href="../reference/ggmap_here.html">ggmap_here()</a></code>, which uses
<code>ggplot2</code>. Let’s see the flagged record of the Paraná
Pine:</p>
<blockquote>
<p><strong>Note:</strong> In this vignette, the map generated with
<code><a href="../reference/map_here.html">map_here()</a></code> is a static snapshot of the interactive map
produced in RStudio.</p>
</blockquote>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Interactive map with map_here()</span></span>
<span><span class="fu"><a href="../reference/map_here.html">map_here</a></span><span class="op">(</span><span class="va">occ</span>, species <span class="op">=</span> <span class="st">"Araucaria angustifolia"</span>, label <span class="op">=</span> <span class="st">"record_id"</span>, cex <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignettes_img/IMG03.jpeg" class="r-plt" alt="" width="80%" style="display: block; margin: auto;"><br></p>
<p>With <code><a href="../reference/ggmap_here.html">ggmap_here()</a></code>, we can also plot each flag in a
separate panel by setting <code>facet_wrap = TRUE</code>:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggmap_here.html">ggmap_here</a></span><span class="op">(</span><span class="va">occ</span>, species <span class="op">=</span> <span class="st">"Araucaria angustifolia"</span>, facet_wrap <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="flagging_records_species_list_files/figure-html/unnamed-chunk-24-1.png" class="r-plt" alt="" width="80%" style="display: block; margin: auto;"><br></p>
<p>Records that are flagged as <code>FALSE</code> by multiple expert
sources are strong candidates for removal. You can remove these flagged
records using <code><a href="../reference/remove_flagged.html">remove_flagged()</a></code> (for more details, see
vignette <strong>3. Flagging Records Using Record
Information</strong>):</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">occ_cleaned</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/remove_flagged.html">remove_flagged</a></span><span class="op">(</span><span class="va">occ</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<div class="section level3">
<h3 id="summarizing-flags">Summarizing flags<a class="anchor" aria-label="anchor" href="#summarizing-flags"></a>
</h3>
<p>As we did in the previous vignette (<strong>3. Flagging Records Using
Record Information</strong>), we can create a bar plot summarizing the
number of records flagged by each flagging function:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flag_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/summarize_flags.html">summarize_flags</a></span><span class="op">(</span><span class="va">occ</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<p>The function returns a <code>data.frame</code> summarizing the number
of records per flag and a <code>ggplot2</code> object displaying this
summary as a bar plot:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data.frame summarizing the number of records per flag</span></span>
<span><span class="va">flag_summary</span><span class="op">$</span><span class="va">df_summary</span></span>
<span><span class="co">#&gt;              Flag    n</span></span>
<span><span class="co">#&gt; 2 Outside faunabr    4</span></span>
<span><span class="co">#&gt; 1 Outside florabr   30</span></span>
<span><span class="co">#&gt; 5    Outside BIEN   69</span></span>
<span><span class="co">#&gt; 3    Outside WCVP  157</span></span>
<span><span class="co">#&gt; 4    Outside IUCN  210</span></span>
<span><span class="co">#&gt; 6           Valid 4080</span></span></code></pre></div>
<p><br></p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Bar plot</span></span>
<span><span class="va">flag_summary</span><span class="op">$</span><span class="va">plot_summary</span></span></code></pre></div>
<p><img src="flagging_records_species_list_files/figure-html/unnamed-chunk-28-1.png" class="r-plt" alt="" width="80%" style="display: block; margin: auto;"><br></p>
<p>In the final vignette (<strong>5. Reducing Sampling Bias</strong>),
we show how to mitigate sampling bias by thinning records in geographic
and environmental space.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Weverton C. F. Trindade, Fernanda S. Caron.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
